<!DOCTYPE html>
<html lang="en">
<head>
    <title>Intel Sustainability Timeline</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="styles.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="timeline-header">
        <img src="assets/intel-logo.png" alt="Intel Logo" class="intel-logo" />
        <h1 class="timeline-title">Intel Sustainability Timeline</h1>
    </div>
    <div class="timeline" id="timeline"></div>
    <div id="robot-row" style="display: flex; align-items: flex-end; justify-content: space-between; margin-top: 2em; width: 100%; position: relative;">
        <button id="scrollLeft" class="scroll-arrow" aria-label="Scroll Left">&#8678;</button>
        <div style="flex: 1; position: relative; height: 160px;">
            <div id="ai-anim" style="width:100px; height:140px; position:absolute; left:50%; bottom:0; transition: left 0.6s cubic-bezier(.4,2,.6,1);">
                <!-- Full-body SVG robot with animated arms/legs -->
                <svg id="robot" width="100" height="140" viewBox="0 0 100 140">
                    <g>
                        <!-- Legs -->
                        <rect id="leg-left" x="38" y="110" width="8" height="22" rx="4" fill="#90caf9"/>
                        <rect id="leg-right" x="54" y="110" width="8" height="22" rx="4" fill="#90caf9"/>
                        <!-- Arms -->
                        <rect id="arm-left" x="18" y="60" width="10" height="40" rx="5" fill="#90caf9"/>
                        <rect id="arm-right" x="72" y="60" width="10" height="40" rx="5" fill="#90caf9"/>
                        <!-- Body -->
                        <rect x="30" y="60" width="40" height="50" rx="12" fill="#1976d2"/>
                        <!-- Head -->
                        <rect id="head" x="35" y="30" width="30" height="30" rx="10" fill="#1976d2"/>
                        <rect x="40" y="35" width="20" height="15" rx="5" fill="#90caf9"/>
                        <!-- Eyes -->
                        <circle cx="47" cy="45" r="4" fill="#fff"/>
                        <circle cx="63" cy="45" r="4" fill="#fff"/>
                        <!-- Mouth -->
                        <rect x="48" y="53" width="8" height="5" rx="2.5" fill="#fff"/>
                        <!-- Sweat drop, hidden by default -->
                        <ellipse id="sweat" cx="70" cy="35" rx="3" ry="7" fill="#4fc3f7" opacity="0"/>
                    </g>
                </svg>
            </div>
        </div>
        <button id="scrollRight" class="scroll-arrow" aria-label="Scroll Right">&#8680;</button>
    </div>
    <button id="backToTop" class="back-to-top">⬆️ Back to Top</button>

    <!-- Bootstrap Modal for Timeline Event Details -->
    <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="eventModalLabel"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body" id="eventModalBody"></div>
        </div>
      </div>
    </div>

    <script src="timeline.js"></script>
    <script>
        // List of RTL language codes
        const rtlLangs = ['ar', 'he', 'fa', 'ur', 'ps', 'dv', 'yi'];

        // Function to check and set RTL
        function updateDirection() {
            // Try to detect lang from <html lang=""> or <body lang="">
            let lang = document.documentElement.lang || document.body.lang || '';
            lang = lang.toLowerCase().split('-')[0]; // e.g., "ar-SA" -> "ar"
            if (rtlLangs.includes(lang)) {
                document.documentElement.dir = 'rtl';
                document.body.classList.add('rtl');
            } else {
                document.documentElement.dir = 'ltr';
                document.body.classList.remove('rtl');
            }
        }

        // Observe changes to <html> and <body> lang attributes (for Google Translate)
        const observer = new MutationObserver(updateDirection);
        observer.observe(document.documentElement, { attributes: true, attributeFilter: ['lang', 'dir'] });
        observer.observe(document.body, { attributes: true, attributeFilter: ['lang', 'dir'] });

        // Initial check
        updateDirection();
    </script>
     <!-- Bootstrap JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>